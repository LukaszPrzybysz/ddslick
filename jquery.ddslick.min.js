(function(n){function h(n,t){var r=n.find(".dd-option-value[value= '"+t+"']").parents("li").prevAll().length;i(n,r)}function i(n,t){var r=n.data("ddslick"),e=n.find(".dd-selected"),s=e.siblings(".dd-selected-value"),c=n.find(".dd-options"),l=e.siblings(".dd-pointer"),o=n.find(".dd-option").eq(t),h=o.closest("li"),u=r.settings,i=r.settings.data[t];n.find(".dd-option").removeClass("dd-option-selected");o.addClass("dd-option-selected");r.selectedIndex=t;r.selectedItem=h;r.selectedData=i;u.showSelectedHTML?e.html((i.imageSrc?'<img class="dd-selected-image'+(u.imagePosition==="right"?" dd-image-right":"")+'" src="'+i.imageSrc+'" />':"")+(i.text?'<label class="dd-selected-text">'+i.text+"<\/label>":"")+(i.description?'<small class="dd-selected-description dd-desc'+(u.truncateDescription?" dd-selected-description-truncated":"")+'" >'+i.description+"<\/small>":"")):e.html(i.text);s.val(i.value);r.original.val(i.value);n.data("ddslick",r);f(n);typeof u.onSelected=="function"&&u.onSelected.call(this,r)}function u(t){if(!t.hasClass("dd-disabled")){var i=t.find(".dd-select"),r=i.siblings(".dd-options"),u=i.find(".dd-pointer"),f=r.is(":visible");n(".dd-click-off-close").not(r).slideUp(50);n(".dd-pointer").removeClass("dd-pointer-up");i.removeClass("dd-open");f?(r.slideUp("fast"),u.removeClass("dd-pointer-up"),i.removeClass("dd-open")):(i.addClass("dd-open"),r.slideDown("fast"),u.addClass("dd-pointer-up"))}}function f(n){n.find(".dd-select").removeClass("dd-open");n.find(".dd-options").slideUp(50);n.find(".dd-pointer").removeClass("dd-pointer-up").removeClass("dd-pointer-up")}n.fn.ddslick=function(i){if(t[i])return t[i].apply(this,Array.prototype.slice.call(arguments,1));if(typeof i!="object"&&i)n.error("Method "+i+" does not exists.");else return t.init.apply(this,arguments)};var t={},r={data:[],keepJSONItemsOnTop:!1,width:260,height:null,background:"#eee",selectText:"",defaultSelectedIndex:null,truncateDescription:!0,imagePosition:"left",showSelectedHTML:!0,clickOffToClose:!0,embedCSS:!0,onSelected:function(){}},e='<div class="dd-select"><input class="dd-selected-value" type="hidden" /><a class="dd-selected"><\/a><span class="dd-pointer dd-pointer-down"><\/span><\/div>',o='<ul class="dd-options"><\/ul>',s='<style id="css-ddslick" type="text/css">.dd-select{ border-radius:2px; border:solid 1px #ccc; position:relative; cursor:pointer;}.dd-desc { color:#aaa; display:block; overflow: hidden; font-weight:normal; line-height: 1.4em; }.dd-selected{ overflow:hidden; display:flex; align-items:center; padding:10px; font-weight:bold;}.dd-pointer{ width:0; height:0; position:absolute; right:10px; top:50%; margin-top:-3px;}.dd-pointer-down{ border:solid 5px transparent; border-top:solid 5px #000; }.dd-pointer-up{border:solid 5px transparent !important; border-bottom:solid 5px #000 !important; margin-top:-8px;}.dd-options{ border:solid 1px #ccc; border-top:none; list-style:none; box-shadow:0px 1px 5px #ddd; display:none; position:absolute; z-index:2000; margin:0; padding:0;background:#fff; overflow:auto;}.dd-option{ padding:10px; display:flex; align-items:center; border-bottom:solid 1px #ddd; overflow:hidden; text-decoration:none; color:#333; cursor:pointer;-webkit-transition: all 0.25s ease-in-out; -moz-transition: all 0.25s ease-in-out;-o-transition: all 0.25s ease-in-out;-ms-transition: all 0.25s ease-in-out; }.dd-options > li:last-child > .dd-option{ border-bottom:none;}.dd-option:hover{ background:#f3f3f3; color:#000;}.dd-selected-description-truncated { text-overflow: ellipsis; white-space:nowrap; }.dd-option-selected { background:#f6f6f6; }.dd-option-image, .dd-selected-image { vertical-align:middle; float:left; margin-right:5px; max-width:64px;}.dd-image-right { float:right; margin-right:15px; margin-left:5px;}.dd-disabled {opacity: .4;}.dd-disabled * {cursor: default !important;}.dd-container{ position:relative;}​ .dd-selected-text { font-weight:bold}​<\/style>';t.init=function(t){var f=n.extend({},r,t);return n("#css-ddslick").length<=0&&f.embedCSS&&n(s).appendTo("head"),this.each(function(){var f=n.extend({},r,t),s=n(this),p=s.data("ddslick"),h,w,c,a,l,v,y;if(!p){h=[];w=f.data;f.data=[];s.find("option").each(function(){var t=n(this),i=t.data();h.push({text:n.trim(t.text()),value:t.val(),selected:t.is(":selected"),description:i.description,imageSrc:i.imagesrc})});f.keepJSONItemsOnTop?n.merge(f.data,h):f.data=n.merge(h,f.data);c=s;a=n("<div>").attr("id",s.attr("id")+"-dd-placeholder");s.replaceWith(a);s=a;s.addClass("dd-container").append(e).append(o);s.find("input.dd-selected-value").attr("id",n(c).attr("id")).attr("name",n(c).attr("name"));h=s.find(".dd-select");l=s.find(".dd-options");h.find("input").attr("name",c.attr("name"));l.css({width:f.width});h.css({width:f.width,background:f.background});s.css({width:f.width});f.height!=null&&l.css({height:f.height,overflow:"auto"});n.each(f.data,function(n,t){t.selected&&(f.defaultSelectedIndex=n);l.append('<li><a class="dd-option">'+(t.value?' <input class="dd-option-value" type="hidden" value="'+t.value+'" />':"")+(t.imageSrc?' <img class="dd-option-image'+(f.imagePosition==="right"?" dd-image-right":"")+'" src="'+t.imageSrc+'" />':"")+(t.text?' <label class="dd-option-text">'+t.text+"<\/label>":"")+(t.description?' <small class="dd-option-description dd-desc">'+t.description+"<\/small>":"")+"<\/a><\/li>")});v={settings:f,original:c,selectedIndex:-1,selectedItem:null,selectedData:null};s.data("ddslick",v);f.selectText.length>0&&f.defaultSelectedIndex==null?s.find(".dd-selected").html(f.selectText):(y=f.defaultSelectedIndex!=null&&f.defaultSelectedIndex>=0&&f.defaultSelectedIndex<f.data.length?f.defaultSelectedIndex:0,i(s,y));s.find(".dd-select").on("click.ddslick",function(){u(s)});s.find(".dd-option").on("click.ddslick",function(){i(s,n(this).closest("li").index())});if(f.clickOffToClose){l.addClass("dd-click-off-close");s.on("click.ddslick",function(n){n.stopPropagation()});n("body").on("click",function(){n(".dd-open").removeClass("dd-open");n(".dd-click-off-close").slideUp(50).siblings(".dd-select").find(".dd-pointer").removeClass("dd-pointer-up")})}}})};t.select=function(t){return this.each(function(){t.index!==undefined&&i(n(this),t.index);t.id&&h(n(this),t.id)})};t.open=function(){return this.each(function(){var t=n(this),i=t.data("ddslick");i&&u(t)})};t.close=function(){return this.each(function(){var t=n(this),i=t.data("ddslick");i&&f(t)})};t.destroy=function(){return this.each(function(){var t=n(this),i=t.data("ddslick"),r;i&&(r=i.original,t.removeData("ddslick").unbind(".ddslick").replaceWith(r))})};t.disable=function(){return this.each(function(){var t=n(this);t.addClass("dd-disabled")})};t.enable=function(){return this.each(function(){var t=n(this);t.hasClass("dd-disabled")&&t.removeClass("dd-disabled")})}})(jQuery);